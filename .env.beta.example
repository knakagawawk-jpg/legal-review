# ============================================
# βテスト環境用設定ファイル
# ============================================
# 使用方法: このファイルを .env.beta としてコピーして使用
# cp .env.beta.example .env.beta

# ============================================
# 認証設定（重要！）
# ============================================
# 認証機能を有効にするかどうか（true/false）
# βテスト環境では通常 true に設定
AUTH_ENABLED=true

# β環境メール制限（true/false）
# trueの場合、config/allowed_beta_emails.txt に記載されたメールアドレスのみ新規登録可能
# 既存ユーザーのログインは制限されません
BETA_EMAIL_RESTRICTION_ENABLED=true

# Google OAuth設定（Google Cloud Consoleで取得）
# βテスト環境用のOAuth設定を推奨（本番とは別のクライアントID）
# https://console.cloud.google.com/apis/credentials でOAuth 2.0 クライアント IDを作成
GOOGLE_CLIENT_ID=your-beta-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-beta-google-client-secret

# 管理者向け2段階認証（TOTP）
ADMIN_2FA_ENABLED=true
ADMIN_2FA_EMAIL=note.shihoushiken@gmail.com
ADMIN_2FA_TOTP_SECRET=your-base32-totp-secret
ADMIN_2FA_TOTP_VALID_WINDOW=1

# JWT用のシークレットキー（βテスト環境用、本番とは別のキーを使用）
SECRET_KEY=change-this-secret-key-in-beta-use-long-random-string

# ============================================
# フロントエンド設定（Next.js用）
# ============================================
# Google OAuth設定（フロントエンド用）
# GOOGLE_CLIENT_IDと同じ値である必要があります
NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-beta-google-client-id.apps.googleusercontent.com
NEXT_PUBLIC_ADMIN_2FA_EMAIL=note.shihoushiken@gmail.com

# バックエンドAPIのURL（参考用。docker-compose は web-beta で BACKEND_INTERNAL_URL を直接指定）
BACKEND_INTERNAL_URL_BETA=http://backend-beta:8000

# 講評生成のタイムアウト（ミリ秒、デフォルト: 600000 = 600秒）
REVIEW_TIMEOUT_MS=600000

# ============================================
# バックエンド設定（FastAPI用）
# ============================================
# データベースURL（βテスト環境用）
DATABASE_URL=sqlite:////data/beta.db

# FastAPIのベースURL（フロントエンド用）
API_BASE_URL=http://backend-beta:8000

# ============================================
# Anthropic API設定
# ============================================
# https://console.anthropic.com/settings/keys で取得
# 本番環境と同じAPIキーを使用可能（または別のキーを使用）
ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# デフォルトのClaudeモデル
ANTHROPIC_MODEL=claude-haiku-4-5-20251001

# 用途別のモデル設定（オプション）
# ANTHROPIC_MODEL_REVIEW=claude-3-5-sonnet-20241022
# ANTHROPIC_MODEL_REVIEW_CHAT=claude-haiku-4-5-20251001
# ANTHROPIC_MODEL_FREE_CHAT=claude-haiku-4-5-20251001
# ANTHROPIC_MODEL_REVISIT_PROBLEMS=claude-haiku-4-5-20251001
# ANTHROPIC_MODEL_TITLE=claude-haiku-4-5-20251001

# ============================================
# Caddy設定（リバースプロキシ）
# ============================================
# βテスト環境のドメイン（サブドメイン）
CADDY_DOMAIN_BETA=beta.juristutor-ai.com

# Caddy Basic認証設定（βテスト環境用）
# パスワードハッシュの生成方法:
# docker run --rm caddy:2-alpine caddy hash-password --plaintext your-password
BASIC_AUTH_USER_BETA=admin
BASIC_AUTH_PASS_HASH_BETA=$2a$10$example_hash_replace_with_actual_hash
